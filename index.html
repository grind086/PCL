<html>
    <head>
        <title>PCL Test</title>

        <style type="text/css">
            canvas {
                width: 500px;
                height: 500px;
                border: 1px solid black;
                image-rendering: pixelated;
            }
        </style>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.min.js"></script>

        <!-- START Load PCL from individual files -->
        <script type="text/javascript" src="src/PCL.js"></script>

        <script type="text/javascript" src="src/math/Math.js"></script>
        <script type="text/javascript" src="src/math/easing.js"></script>
        <script type="text/javascript" src="src/math/rng.js"></script>

        <script type="text/javascript" src="src/core/BaseNode.js"></script>
        <script type="text/javascript" src="src/core/CombinerNode.js"></script>
        <script type="text/javascript" src="src/core/GeneratorNode.js"></script>
        <script type="text/javascript" src="src/core/ModifierNode.js"></script>
        <script type="text/javascript" src="src/core/SelectorNode.js"></script>

        <script type="text/javascript" src="src/extras/combiners/AddNode.js"></script>
        <script type="text/javascript" src="src/extras/combiners/SubtractNode.js"></script>
        <script type="text/javascript" src="src/extras/combiners/MultiplyNode.js"></script>
        <script type="text/javascript" src="src/extras/combiners/DivideNode.js"></script>
        <script type="text/javascript" src="src/extras/combiners/MaxNode.js"></script>
        <script type="text/javascript" src="src/extras/combiners/MinNode.js"></script>
        <script type="text/javascript" src="src/extras/combiners/PowerNode.js"></script>
        
        <script type="text/javascript" src="src/extras/generators/ArgumentNode.js"></script>
        <script type="text/javascript" src="src/extras/generators/CheckerNode.js"></script>
        <script type="text/javascript" src="src/extras/generators/ConstantNode.js"></script>
        <script type="text/javascript" src="src/extras/generators/FunctionNode.js"></script>
        <script type="text/javascript" src="src/extras/generators/Worley2DNode.js"></script>

        <script type="text/javascript" src="src/extras/modifiers/AbsNode.js"></script>
        <script type="text/javascript" src="src/extras/modifiers/ClampNode.js"></script>
        <script type="text/javascript" src="src/extras/modifiers/CurveNode.js"></script>
        <script type="text/javascript" src="src/extras/modifiers/FBMNode.js"></script>
        <script type="text/javascript" src="src/extras/modifiers/InvertNode.js"></script>
        <script type="text/javascript" src="src/extras/modifiers/ScaleBiasNode.js"></script>
        <script type="text/javascript" src="src/extras/modifiers/TerraceNode.js"></script>

        <script type="text/javascript" src="src/utils/Utils.js"></script>

        <script type="text/javascript" src="src/threeUtils/Three.js"></script>
        <script type="text/javascript" src="src/threeUtils/generateTexture.js"></script>
        <!-- END   Load PCL from individual files -->

    </head>

    <body>

    <canvas id="testCanvas" width="500px" height="500px"></canvas>

    <script type="text/javascript">


        // var y = 10, seed = 'poop';
        // for (var x = 0; x < 10; x++) {
        //     var coordHash = PCL.Math.hashCode( x.toString(36) + seed + y.toString(36) );
        //     var lcg = new PCL.Math.LCG( coordHash );

        //     console.log( lcg.random() );
        // }

        var start = Date.now();

        var worleyNode = new PCL.Worley2DNode( 11592 );
        worleyNode.gridSize = 64;
        // worleyNode.distance = worleyNode.distanceManhattan;

        var scaleNode = new PCL.ScaleBiasNode();
        scaleNode.scale = 255;

        scaleNode.setInput( 0, worleyNode );

        var imageData = PCL.generateImageData( scaleNode, PCL.GrayscaleFormat, 500, 500, 0, 0, 1, 1 );

        var ctx = document.getElementById('testCanvas').getContext('2d');
        ctx.putImageData( imageData, 0, 0 );

        console.log( Date.now() - start );

    </script>
        
    </body>
</html>
